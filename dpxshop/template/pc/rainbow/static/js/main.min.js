var Main={};var Check={};var cookie_pre="td_";var cookie_domain="";var cookie_path="/";(function(d,e,c){e.AddFavorite=function(g,f){try{window.external.AddFavorite(g,f)}catch(h){try{window.sidebar.addPanel(f,g,"")}catch(h){alert("加入收藏失败，请使用Ctrl+D进行添加")}}};e.SetHome=function(g){try{document.body.style.behavior="url(#default#homepage)";document.body.setHomePage(g)}catch(h){if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(h){alert("此操作被浏览器拒绝！\n请在浏览器地址栏输入“about:config”并回车\n然后将 [signed.applets.codebase_principal_support]的值设置为'true',双击即可。")}var f=Components.classes["@mozilla.org/preferences-service;1"].getService(Components.interfaces.nsIPrefBranch);f.setCharPref("browser.startup.homepage",g)}}};e.getTopDomain=function(g){var i="";var h=g||window.location.host;var f=h.split(".");if(f.length>2&&!(/^(\d{1,3})(\.\d{1,3}){3}$/.test(h))&&(f[0]=="m"||f[0]=="files")){f.shift();i=f.join(".")}else{i=h}return i};e.getFilesDomain=function(f){var g=e.getTopDomain(f);return"files."+g};e.getSubDomain=function(h){var f="";var i=h||window.location.host;var g=i.split(".");if(g.length>2&&!(/^(\d{1,3})(\.\d{1,3}){3}$/.test(i))){f=g.shift()}else{f=""}return f};e.setCookie=function(g,n,i,j){if(j==null){j=cookie_pre}g=j+g;var k=e.setCookie.arguments.length;var l=e.setCookie.arguments;var f=(k>5)?l[5]:false;var h=new Date();if(i==null||i==0){i=1}h.setTime(h.getTime()+60*1000*i);var m="";m+=g;m+="=";m+=escape(n);m+=("; path="+cookie_path);m+=((cookie_domain=="")?"":("; domain="+cookie_domain));m+=((f==true)?"; secure":"");m+=";expires=";m+=h.toGMTString();document.cookie=m};e.getCookie=function(k,o){if(o==null){o=cookie_pre}if(o){k=o+k}var g=k+"=";var n=g.length;var f=document.cookie.length;var l=0;while(l<f){var h=l+n;if(document.cookie.substring(l,h)==g){var m=document.cookie.indexOf(";",h);if(m==-1){m=document.cookie.length}return unescape(document.cookie.substring(h,m))}l=document.cookie.indexOf(" ",l)+1;if(l==0){break}}return null};e.delCookie=function(f,g){var i=e.getCookie(f,g);if(g==null){g=cookie_pre}if(g){f=g+f}var h=new Date();h.setTime(h.getTime()-24*50*60*1000);document.cookie=f+"="+i+";expires="+h.toGMTString()};e.costFormat=function(k){var g=100000000;var j=10000;var i=0;var h=0;var f="";if(isNaN(k)||k<j){return k}if(k>=g){f+=[Math.floor(k/g),"亿"].join("");k=k%g}if(k>=10000){f+=[Math.floor(k/j),"万"].join("");k=k%j}if(k>0){f+=Math.round(k)}return f};e.isset=function(f){return(typeof f)!="undefined"&&f!=null};e.keyexist=function(h,f){var g=typeof h;if(h!=null&&(g=="object"||g=="array")){return(typeof h[f])!="undefined"}return false};e.getBytes=function(g){var f=g.match(/[^\x00-\xff]/ig);return this.length+(f==null?0:f.length)};e.file_url=function(g){var h="";var f={id:"",name:"default.jpg",width:0,height:0,uncrop:0};if(typeof g=="object"){d.extend(f,g);do{if(f.id){h=h+f.id}else{break}if(f.width>0&&f.height>0){h=h+"/"+f.width+"/"+f.height}if(f.name){h=h+"/"+f.name}if(f.uncrop){h=h+"?uncrop=1"}}while(false)}else{h=g}return["http://",e.getFilesDomain(),"/file/",h].join("")};e.unique=function(f,j){var k=null;var l=[];var h=f.length;if(!j){j=d.trim}for(var g=0;g<h;g++){k=j.call(f,f[g]);if(k.length>0&&d.inArray(k,l)==-1){l.push(k)}}return l};e.loadJs=function(f,g){return d.ajax({type:"GET",url:f,data:null,success:g,dataType:"script",cache:true})};e.scriptPath=function(){if(document.hasOwnProperty&&document.hasOwnProperty("currentScript")){return document.currentScript.src}var g=document.scripts||document.getElementsByTagName("script"),f=g.length,j="interactive";for(var h=0;h<f;h++){if(g[h].readyState==j){return g[h].src}}return g[f-1].src};e.scriptScriptDir=function(){var h=e.scriptPath();var f=h.split("/");f.splice(f.length-1,1);var g=f.join("/");if(!g){g="./"}else{g=g+"/"}return g};e.Points2Txt=function(k,l){l=l||"baidu";var j=new Array();for(var h=0;h<k.length;h++){var f=k[h];if(typeof(f.lng)!="undefined"&&typeof(f.lat)!="undefined"){var g,m;if(l=="baidu"){g=f.lng;m=f.lat}else{g=f.lat;m=f.lng}j.push([g,m].join(","))}}return j.join(";")};e.Txt2Points=function(f,h){h=h||"baidu";var g=[];d.each(f.split(";"),function(k,l){var n=l.split(",");if(n.length==2){var j,m;if(h=="baidu"){j=parseFloat(n[0]);m=parseFloat(n[1])}else{j=parseFloat(n[1]);m=parseFloat(n[0])}if(j!=0&&m!=0){g.push({lng:j,lat:m})}}});return g};var b={"application/msword":"DOC","application/octet-stream":"rar","application/pdf":"PDF","application/vnd.android.package-archive":"APK","application/vnd.ms-excel":"ELS","application/vnd.ms-powerpoint":"PPT","application/vnd.openxmlformats":"DOCX","application/x-shockwave-flash":"SWF","application/x-zip-compressed":"ZIP","application/zip":"ZIP","audio/mpeg":"MP3","image/bmp":"BMP","image/gif":"GIF","image/jpeg":"JPG","image/jpg":"JPG","image/pjpeg":"JPG","image/png":"PNG","image/vnd":"JPG","image/x-ms-bmp":"BMP","image/x-png":"PNG","text/plain":"TXT"};e.getContentTypeMime=function(f){var g=b[f];return g?g:"Default"};var a={APK:true,ZIP:true,DOC:true,XLS:true,PPT:true,TXT:true,PDF:true,DOCX:true,SWF:true};e.getContentType=function(f){var h=false;if(!f){return h}var i=f.split(".");if(i.length>1){var g=i[i.length-1].toUpperCase();if(a[g]){h=g}}return h};e.getContentTypeImageUrlByMime=function(f){var g=e.getContentTypeMime(f);return"http://static."+e.getTopDomain()+"/static/script/common/typemime/"+g+".png"};e.dateformat=function(f,h){h=(h instanceof Date)?h:(new Date());var i={"M+":h.getMonth()+1,"d+":h.getDate(),"h+":h.getHours(),"m+":h.getMinutes(),"s+":h.getSeconds(),"q+":Math.floor((h.getMonth()+3)/3),S:h.getMilliseconds()};if(/(y+)/.test(f)){f=f.replace(RegExp.$1,(h.getFullYear()+"").substr(4-RegExp.$1.length))}for(var g in i){if(new RegExp("("+g+")").test(f)){f=f.replace(RegExp.$1,(RegExp.$1.length==1)?(i[g]):(("00"+i[g]).substr((""+i[g]).length)))}}return f};e.getYearWeek=function(f){if(typeof(f)==="number"){f=new Date(f)}var g=new Date(f.getFullYear(),0,1);var j=f.getDay();if(j==0){j=7}var i=g.getDay();if(i==0){i=7}var h=Math.round((f.getTime()-g.getTime()+(i-j)*(24*60*60*1000))/86400000);return Math.ceil(h/7)+1};e.direct_sendsms=function(i,f){var h="/smsapi/direct/?callback=?";var g={id:i};d.getJSON(h,g,f);return};e.YearDiff=function(j,l){var f=j.split("-");var k=new Date(f[0],f[1],f[2]);var h=l.split("-");var g=new Date(h[0],h[1],h[2]);var i=0;while(k.setFullYear(k.getFullYear()+1)<=g){i++}return i};e.DateDiff=function(h,m){var f=h.split("-");var k=new Date(f[0],f[1],f[2]);var l=k.getTime();var g=m.split("-");var i=new Date(g[0],g[1],g[2]);var j=i.getTime();if(l>=j){return false}else{return true}};e.td_callback_proxy=function(f){return function(h){var g=this;do{if(typeof(h)!="object"){alert("请求失败");break}f.call(g,h)}while(false)}};e.isSupportPlaceholder=function(){var f="placeholder" in document.createElement("input");return f};e.getElementOptions=function(h,k){var l=d(h);var f={};for(var g=0;g<k.length;g++){var j=k[g];var m=l.data(j.name);if(j.type=="array"&&(m instanceof Array)){f[j.name]=m}else{if(j.type=="boolean"&&typeof(m)=="boolean"){f[j.name]=m}else{if(j.type=="object"&&(m instanceof Object)){f[j.name]=m}else{if(j.type=="string"&&typeof(m)=="string"){f[j.name]=m}else{if(j.type=="number"&&typeof(m)=="number"){f[j.name]=m}}}}}}return f};e.getQueryStringValue=function(f){var g=new RegExp("(^|&)"+f+"=([^&]*)(&|$)","i");var h=window.location.search.substr(1).match(g);if(h!=null){return unescape(h[2])}return null};c.mobile=function(f){return/^1[3|4|5|7|8][0-9]{9}$/.test(f)};c.tel=function(f){return c.phone(f)};c.phone=function(f){if(c.mobile(f)){return true}return/^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$/.test(f)}})(jQuery,Main,Check);